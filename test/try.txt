user www-data;
worker_processes auto;
pid /run/nginx.pid;

events {
        worker_connections 768;
}

http{
        server {
                listen  8000;
                location / {
                        client_max_body_size 1G;
                        proxy_set_header    Host $host;
                        proxy_set_header    X-Real-IP   $remote_addr;
                        proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;
                        proxy_pass  http://127.0.0.1:8080;
                        proxy_set_header Origin "";
                        add_header    'Access-Control-Allow-Origin' '*' always;
                        add_header    'Access-Control-Allow-Methods' 'GET, POST, PUT, OPTIONS' always;
                        add_header    'Access-Control-Allow-Headers' 'Origin, X-Requested-With, Content-Type, Accept' always;
                        add_header    'Access-Control-Allow-Credentials' 'true' always;

                        proxy_http_version 1.1;
                        proxy_set_header   Upgrade $http_upgrade;
                        proxy_set_header   Connection "upgrade";
                }
        }
}
